$(document).ready(function(){function e(e){1==e?$("#q"+e).fadeIn(400):($(".question").fadeOut(300),setTimeout(()=>{$("#q"+e).fadeIn(400),$(".answer").attr("disabled",!1),$(".step__progress__now").css("width",Math.round(t/12*100)+"%"),$(".step__count").html(t)},300))}function l(l,a){if(l.push(a),t++,t>12){for(var r="",s=0;s<l.length;s++){var n=l.filter(e=>e===l[s]).length;n>=2&&!r.includes(l[s])&&(r+=l[s])}var o="",c=["E","I","S","N","T","F","P","J"];for(s=0;s<c.length;s++)r.includes(c[s])&&(o+=c[s]);$(".question__wrapper").hide(),$("#loading").fadeIn(500),setTimeout(()=>{switch(o){case"ISTJ":location.href=$resultUrl.replaceAll("{type}","1");break;case"ISFJ":location.href=$resultUrl.replaceAll("{type}","2");break;case"INFJ":location.href=$resultUrl.replaceAll("{type}","3");break;case"INTJ":location.href=$resultUrl.replaceAll("{type}","4");break;case"ISTP":location.href=$resultUrl.replaceAll("{type}","5");break;case"ISFP":location.href=$resultUrl.replaceAll("{type}","6");break;case"INFP":location.href=$resultUrl.replaceAll("{type}","7");break;case"INTP":location.href=$resultUrl.replaceAll("{type}","8");break;case"ESTP":location.href=$resultUrl.replaceAll("{type}","9");break;case"ESFP":location.href=$resultUrl.replaceAll("{type}","10");break;case"ENFP":location.href=$resultUrl.replaceAll("{type}","11");break;case"ENTP":location.href=$resultUrl.replaceAll("{type}","12");break;case"ESTJ":location.href=$resultUrl.replaceAll("{type}","13");break;case"ESFJ":location.href=$resultUrl.replaceAll("{type}","14");break;case"ENFJ":location.href=$resultUrl.replaceAll("{type}","15");break;case"ENTJ":location.href=$resultUrl.replaceAll("{type}","16")}},3e3)}else e(t)}var a=[];$.ajax({type:"GET",url:`${$imgRootUrl}/assets/js/mbti.json`,dataType:"json"}).done(function(r){for(var s="",n=0;n<r.question.length;n++)s+='<div class="question" id="q'+r.question[n].id+'">',s+='<p class="text">'+r.question[n].quest[$lang]+"</p>",s+=`<div class="img-bx"><img src="${$imgRootUrl}/assets/images/quest/`+r.question[n].img+'"></div>',s+='<div class="answer-bx"><button class="answer" value="'+r.question[n].answer0.value+'">'+r.question[n].answer0.text[$lang]+"</button>",s+='<button class="answer" value="'+r.question[n].answer1.value+'">'+r.question[n].answer1.text[$lang]+"</button></div>",s+="</div>";$("#questions").html(s),e(t),$(".answer").click(function(){var e=$(this).val();$(".answer").attr("disabled",!0),$(this).parent().find(".answer").attr("disabled",!0),l(a,e)})});var t=1});