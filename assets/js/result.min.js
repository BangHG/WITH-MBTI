function counter(){$(".counter").each(function(t){var e=$(this),a=e.attr("data-counter");$({countNum:e.text()}).delay(100*t).animate({countNum:a},{duration:1200,easing:"swing",step:function(){e.text(Math.ceil(this.countNum))},complete:function(){e.text(Math.ceil(this.countNum))}})})}function open_blind(){$(".blind").fadeIn(300)}function closed_blind(){$(".blind").fadeOut(300)}function closed_popup(){$("html").css("overflow-y","auto"),closed_blind(),$(".popup").fadeOut(300)}let paramStr=location.search,searchParams=new URLSearchParams(paramStr);var yourMbti=searchParams.get("type");"undefined"!=typeof $yourMbti&&(yourMbti=$yourMbti),"ko"==$lang?$("#download-result").attr("href",`${$imgRootUrl}/assets/images/download/ko/WITH_image_${yourMbti}.jpg`):"en"==$lang?$("#download-result").attr("href",`${$imgRootUrl}/assets/images/download/en/WITH_image_${yourMbti}.jpg`):"ja"==$lang&&$("#download-result").attr("href",`${$imgRootUrl}/assets/images/download/ja/WITH_image_${yourMbti}.jpg`),(""==yourMbti||yourMbti>16)&&("ko"==$lang?alert("응답하지 않은 항목이 있습니다.\n테스트를 다시 진행 해 주세요."):"en"==$lang?alert("There is a question that was not answered. \nPlease complete the test fully."):"ja"==$lang&&alert("回答していない項目があります。\nテストをもう一度進めてください。"),location.href="test.html"),$.ajax({type:"GET",url:`${$imgRootUrl}/assets/js/mbti-result.json`,dataType:"json"}).done(function(t){var e="",a=t.type[yourMbti-1].match_survive,s=t.type[yourMbti-1].match_drift;e+='<h2 class="type-title">'+t.type[yourMbti-1].definition[$lang]+"</h2>",e+='<h3 class="survive-probability">'+t.text.survive.probability[$lang]+" <span>"+t.type[yourMbti-1].survive.probability+"</span></h3>",e+=`<div class="img-bx"><img src="${$imgRootUrl}/assets/images/result/`+t.type[yourMbti-1].id+'.png"/></div>',e+='<ul class="survive-category">',e+='<li> <span class="counter" data-counter="'+t.type[yourMbti-1].survive.resource_gethering+'"></span> '+t.text.survive.resource_gethering[$lang]+"</li>",e+='<li> <span class="counter" data-counter="'+t.type[yourMbti-1].survive.self_defense+'"></span> '+t.text.survive.self_defense[$lang]+"</li>",e+='<li> <span class="counter" data-counter="'+t.type[yourMbti-1].survive.rescuability+'"></span> '+t.text.survive.rescuability[$lang]+"</li>",e+="</ul>",e+='<div class="type-desc">',e+='<p class="type-desc__title">'+t.type[yourMbti-1].survive_title[$lang]+"</p>",e+='<ul  class="type-desc__desc">'+t.type[yourMbti-1].survive_desc[$lang]+"</ul>",e+="</div>",e+='<div class="match">',e+=`<div class="box"><h3 class="match__title">${t.text.match.best[$lang]}</h3> <a href="${$resultUrl.replaceAll("{type}",a)}"> <img src="${$imgRootUrl}/assets/images/result/match_${a}.png"><span class="name">${t.type[a-1].definition[$lang]}</span></a> </div>`,e+=`<div class="box"><h3 class="match__title">${t.text.match.worst[$lang]}</h3> <a href="${$resultUrl.replaceAll("{type}",s)}"> <img src="${$imgRootUrl}/assets/images/result/match_${s}.png"><span class="name">${t.type[s-1].definition[$lang]}</span></a> </div>`,e+="</div>",$("#result").html(e);for(var i="",l=0;l<t.type.length;l++)i+=`<li class="type"><a href="${$resultUrl.replaceAll("{type}",t.type[l].id)}">`,i+=`<div class="img_bx"><img src="${$imgRootUrl}/assets/images/result/match_`+t.type[l].id+'.png"/></div>',i+="<p>"+t.type[l].definition[$lang]+"</p>",i+="</a></li>";$(".popup__allType #allType").html(i),counter()}),$(document).on("click",".popup-link",function(){var t=$(this).attr("data-popup");return open_blind(),$("html").css("overflow-y","hidden"),$("."+t).fadeIn(),!1});